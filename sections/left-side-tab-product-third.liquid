{{ 'component-card.css' | asset_url | stylesheet_tag }}
{{ 'component-price.css' | asset_url | stylesheet_tag }}
{{ 'component-rating.css' | asset_url | stylesheet_tag }}
<link rel="stylesheet" href="{{ 'component-slider.css' | asset_url }}" media="print" onload="this.media='all'">
<link rel="stylesheet" href="{{ 'template-collection.css' | asset_url }}" media="print" onload="this.media='all'">
<noscript>{{ 'component-slider.css' | asset_url | stylesheet_tag }}</noscript>
<noscript>{{ 'template-collection.css' | asset_url | stylesheet_tag }}</noscript>
<noscript>{{ 'component-card.css' | asset_url | stylesheet_tag }}</noscript>
<noscript>{{ 'component-price.css' | asset_url | stylesheet_tag }}</noscript>
<noscript>{{ 'component-rating.css' | asset_url | stylesheet_tag }}</noscript>
{%- if section.settings.enable_quick_add -%}
  <link rel="stylesheet" href="{{ 'quick-add.css' | asset_url }}" media="print" onload="this.media='all'">
  <script src="{{ 'quick-add.js' | asset_url }}" defer="defer"></script>
{%- endif -%}
{%- style -%}
  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top }}px;
    padding-bottom: {{ section.settings.padding_bottom }}px;
  }
  .wpbg-{{ section.id }}-section_background {
    background: {{ section.settings.background_color }}
  }
  .wpbg-{{ section.id }}-grid_background {
    background: {{ section.settings.grid_background_color }}
  }
  .main_section-{{ section.id }}-target .page-width .wp_mainproduct_huk .wp_workproducts .wp_productside .tab-content > .tab-pane_third.active {
    display: block;
  }
  .main_section-{{ section.id }}-target .page-width .wp_mainproduct_huk .wp_workproducts .wp_productside .tab-content > .tab-pane_third {
    display: none;
  }
  @media screen and (min-width: 992px) {
    .section-{{ section.id }}-cart_top_spacing{
       margin-top: {{ section.settings.spacing_top }}%;
    }
  }
  @media screen and (max-width: 991px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top | times: 0.5 | round: 0 }}px;
      padding-bottom: {{ section.settings.padding_bottom | times: 0.5 | round: 0 }}px;
    }
  }
{%- endstyle -%}

<div class="product-tab-item_second main_section-{{ section.id }}-target section-{{ section.id }}-padding  wpbg-{{ section.id }}-section_background">
  <div class="page-width  {% if section.settings.full_width %} collection--full-width{% endif %}">
    <div class="wp_mainproduct_huk wpbg-{{ section.id }}-grid_background">
      <div class="pro-tab tabs">
        <h2 class="heading text-center {{ section.settings.heading_size }}">
          <span>{{ section.settings.m_title }}</span>
        </h2>
      </div>
      <div class="wp_workproducts">
        <div class="row grid">
          <div class="wp_navside grid__item">
            <ul class="list-inline nav nav-tabs_third text-center" role="tablist"> 
              {%- for block in section.blocks -%}
                  <li class="nav-item_third {% if forloop.first %}active{% endif %}" role="tab"> 
                     <a
                    class="nav-link" 
                    data-toggle="tab"
                    href="#vtprodtab1-{{ block.id }}"
                    id="tab-{{ block.id }}">
                    <span>{{ block.settings.cat_name }}</span>
                    </a> 
                  </li>
              {%- endfor -%}
            </ul>
          </div>
          <div class="wp_productside grid__item">
            <div class="tab-content tab-pro" aria-live="polite">
              {%- for block in section.blocks -%}
                {%- liquid
                            if block.settings.collection.all_products_count > block.settings.products_to_show
                                assign more_in_collection = true
                            endif
                            -%}
                {%- assign collection = collections[block.settings.collection] -%}
                <div
                  class="tab-pane_third fade {% if forloop.first %}show active{% endif %}" 
                  id="vtprodtab1-{{ block.id }}"
                  role="tabpanel"
                  aria-labelledby="tab-{{ block.id }}"
                  tabindex="0"
                  {% if forloop.first %}aria-hidden="false"{% else %}aria-hidden="true"{% endif %}>
                  <slider-component class="{% if section.settings.full_width %} slider-component-full-width{% endif %}">
                    <div
                      class="allslideprt slider grid grid--{{ section.settings.columns_desktop }}-col-desktop"
                      id="Slider-{{ section.id }}-{{ block.id }}"
                      data-autoplay="true"
                      data-speed="2"
                      aria-live="polite">
                      {% assign num_row = section.settings.rows | times: 1 %}
                      {% assign temp = 0 %}
                      {% for product in collection.products limit: block.settings.products_to_show %}
                        {% if temp == 0 %}
                          <ul id="Slide-{{ section.id }}-{{ block.id }}-{{ forloop.index }}"
                            class="twopro grid__item slider__slide" 
                            tabindex="-1">
                          {% endif %}
                          <li>
                            {% render 'card-product-banner' 
                             , card_product: product
                             , block_id: block.id
                             , media_aspect_ratio: section.settings.image_ratio
                             , picker_type: section.settings.picker_type
                             , show_secondary_image: section.settings.show_secondary_image
                             , show_vendor: section.settings.show_vendor
                             , show_rating: section.settings.show_rating
                             , show_variants: section.settings.show_variants
                             , show_colorswatch: section.settings.show_colorswatch
                             , show_quick_add: section.settings.enable_quick_add
                             , section_id: section.id
                             , display_product_type: section.settings.display_product_type %}
                          </li>
                          {% assign temp = temp | plus: 1 %}
                          {% if temp == num_row %}
                          </ul>
                          {% assign temp = 0 %}{% endif %}
                      {% else %}
                        {%- for i in (1..6) -%}
                          <div id="Slide-{{ section.id }}-{{ block.id }}-{{ forloop.index }}" class="twopro grid__item slider__slide">
                            {% render 'product-card-placeholder' %}
                          </div> 
                        {%- endfor -%}
                      {% endfor %} 
                    </div>
                    <div class="vthomesbtn{% if collection.products.size < 5 %} hidden{% endif %}">
                      <button 
                        type="button"
                        class="slider-button slider-button--prev focus-inset"
                        name="previous"
                        aria-label="{{ 'general.slider.previous_slide' | t }}"
                        data-step="1">{% render 'icon-caret' %}</button>
                      <button
                        type="button"
                        class="slider-button slider-button--next focus-inset"
                        name="next"
                        aria-label="{{ 'general.slider.next_slide' | t }}"
                        data-step="1">{% render 'icon-caret' %}</button>
                    </div>
                  </slider-component>

                  {%- if block.settings.show_view_all and more_in_collection -%}
                    <div class="center collection__view-all">
                      <a
                        href="{{ block.settings.collection.url }}"
                        class="{% if block.settings.view_all_style == 'link' %}link underlined-link{% elsif block.settings.view_all_style == 'solid' %}button button--primary{% else %}button button--secondary{% endif %}"
                        aria-label="{{ 'sections.featured_collection.view_all_label' | t: collection_name: block.settings.collection.title }}">
                        {{ 'sections.featured_collection.view_all' | t }}
                      </a>
                    </div>
                  {%- endif -%}

                  <div class="wp_tap_banner" style="padding-top: {{ block.settings.space_top }}px;"> 
                      {% if block.settings.showimage %}
                          <div class=" {% unless block.settings.showimage %}{% else %}wp_product_banner{% endunless %}">
                              <div class="beffect">
                                  {% if block.settings.link1 != blank %}<a href="{{ block.settings.link1 }}"
                                      title="{{ 'vtcustomlabel.vtalltext.banner' | t }}">{% endif%}
                                      {% if block.settings.image1 != blank %}
                                      <img src="{{ block.settings.image1 | img_url: 'master' }}"
                                          alt="{{ block.settings.image1.alt }}" class="img-fluid mx-auto"
                                          width="{{ block.settings.image1.width }}"
                                          height="{{ block.settings.image1.height }}" />
                                      {% else %}
                                     <div class="dummysvg">{{ 'lifestyle-2' | placeholder_svg_tag: 'placeholder-svg' }}</div>
                                      {% endif %}
                                      <div class="wp_pro_banner_text">
                                          <div class="wp_banner_inner">
                                              {% if block.settings.storylable1 != blank %}
                                              <h2>{{ block.settings.storylable1 }}</h2>
                                              {% endif %}
                                              {% if block.settings.storydesc1 != blank %}
                                              <h3>{{ block.settings.storydesc1 }}</h3>
                                              {% endif %}
                                             {%- if block.settings.button_label_1 != blank -%}
                                                <a {% if block.settings.button_link_1 == blank %} role="link" aria-disabled="true"{% else %} href="{{ block.settings.button_link_1 }}"{% endif %} class="button button--primary">{{ block.settings.button_label_1 | escape }}</a>
                                             {%- endif -%} 
                                          </div>
                                      </div>
                                      {% if block.settings.link1 != blank %}</a>{% endif %}
                              </div>
                          </div>
                      {% endif %}
                    </div>

                </div>
              {%- endfor -%}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

{% schema %}
  {
    "name": "Left side tab product 3",
    "limit": 1,
    "settings": [
      {
        "type": "color",
        "id": "background_color",
        "label": "Section background",
        "default": "#f5f5f5"
      },
      {
        "type": "color",
        "id": "grid_background_color",
        "label": "Grid background",
        "default": "#fff"
      },
      {
        "type": "text",
        "id": "m_title",
        "label": "Heading",
        "default": "Our product"
      },
      {
        "type": "select",
        "id": "heading_size",
        "options": [
          {
            "value": "h2",
            "label": "t:sections.all.heading_size.options__1.label"
          }, 
          {
            "value": "h1",
            "label": "t:sections.all.heading_size.options__2.label"
          }, 
          {
            "value": "h0",
            "label": "t:sections.all.heading_size.options__3.label"
          }
        ],
        "default": "h0",
        "label": "t:sections.all.heading_size.label"
      }, 
      {
        "type": "range",
        "id": "rows",
        "label": "Rows",
        "min": 1,
        "max": 5,
        "step": 1,
        "default": 1
      }, 
      {
        "type": "range",
        "id": "columns_desktop",
        "min": 1,
        "max": 5,
        "step": 1,
        "default": 4,
        "label": "t:sections.featured-collection.settings.columns_desktop.label"
      }, 
      {
        "type": "checkbox",
        "id": "full_width",
        "label": "t:sections.featured-collection.settings.full_width.label",
        "default": false
      }, 
      {
        "type": "header",
        "content": "t:sections.featured-collection.settings.header.content"
      }, 
      {
        "type": "select",
        "id": "image_ratio",
        "options": [
          {
            "value": "adapt",
            "label": "t:sections.featured-collection.settings.image_ratio.options__1.label"
          }, 
          {
            "value": "portrait",
            "label": "t:sections.featured-collection.settings.image_ratio.options__2.label"
          }, 
          {
            "value": "square",
            "label": "t:sections.featured-collection.settings.image_ratio.options__3.label"
          }
        ],
        "default": "adapt",
        "label": "t:sections.featured-collection.settings.image_ratio.label"
      }, 
      {
        "type": "checkbox",
        "id": "display_product_type",
        "label": "Show product type",
        "default": false
      }, 
      {
        "type": "checkbox",
        "id": "show_rating",
        "default": false,
        "label": "t:sections.featured-collection.settings.show_rating.label",
        "info": "t:sections.featured-collection.settings.show_rating.info"
      }, 
      {
        "type": "checkbox",
        "id": "show_secondary_image",
        "default": false,
        "label": "t:sections.featured-collection.settings.show_secondary_image.label"
      }, 
      {
        "type": "checkbox",
        "id": "show_vendor",
        "default": false,
        "label": "t:sections.featured-collection.settings.show_vendor.label"
      }, 
      {
        "type": "checkbox",
        "id": "enable_quick_add",
        "default": false,
        "label": "t:sections.featured-collection.settings.enable_quick_buy.label"
      }, 
      {
        "type": "header",
        "content": "Variants"
      }, 
      {
        "type": "checkbox",
        "id": "show_variants",
        "default": true,
        "label": "Show color/size variants",
        "info": "This option works when the 'Quick add button' setting is disabled."
      }, 
      {
        "type": "select",
        "id": "picker_type",
        "options": [
          {
            "value": "dropdown",
            "label": "t:sections.main-product.blocks.variant_picker.settings.picker_type.options__1.label"
          }, 
          {
            "value": "button",
            "label": "t:sections.main-product.blocks.variant_picker.settings.picker_type.options__2.label"
          }
        ],
        "default": "button",
        "label": "t:sections.main-product.blocks.variant_picker.settings.picker_type.label"
      }, 
      {
        "type": "checkbox",
        "id": "show_colorswatch",
        "default": true,
        "label": "Enable color swatches",
        "info": "Requires type to be set to 'Pills'."
      },
      {
        "type": "header",
        "content": "Card buttons spacing top"
      },
      {
          "type": "range",
          "id": "spacing_top",
          "min": 0,
          "max": 100,
          "step": 1,
          "unit": "%",
          "label": "t:sections.all.padding.padding_top",
          "default": 50
      },
      {
        "type": "header",
        "content": "t:sections.all.padding.section_padding_heading"
      }, 
      {
        "type": "range",
        "id": "padding_top",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "t:sections.all.padding.padding_top",
        "default": 60
      }, 
      {
        "type": "range",
        "id": "padding_bottom",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "t:sections.all.padding.padding_bottom",
        "default": 60
      }
    ],
    "blocks": [
      {
        "type": "collection",
        "name": "Collection",
        "settings": [
          {
            "id": "cat_name",
            "type": "text",
            "label": "Tab name",
            "default": "Product tab"
          },
          {
            "type": "collection",
            "id": "collection",
            "label": "t:sections.featured-collection.settings.collection.label"
          },
          {
            "type": "range",
            "id": "products_to_show",
            "min": 2,
            "max": 12,
            "step": 1,
            "default": 6,
            "label": "t:sections.featured-collection.settings.products_to_show.label"
          },
          {
            "type": "checkbox",
            "id": "show_view_all",
            "default": false,
            "label": "t:sections.featured-collection.settings.show_view_all.label"
          }, 
          {
            "type": "select",
            "id": "view_all_style",
            "label": "t:sections.featured-collection.settings.view_all_style.label",
            "options": [
              {
                "value": "link",
                "label": "t:sections.featured-collection.settings.view_all_style.options__1.label"
              }, 
              {
                "value": "outline",
                "label": "t:sections.featured-collection.settings.view_all_style.options__2.label"
              }, 
              {
                "value": "solid",
                "label": "t:sections.featured-collection.settings.view_all_style.options__3.label"
              }
            ],
            "default": "solid"
          },
          {
              "type": "header",
              "content": "Image banner"
          },
          {
              "type": "checkbox",
              "id": "showimage",
              "label": "Show image banner",
              "default": true
          },
          {
              "type": "image_picker",
              "id": "image1",
              "label": "Image",
              "info": "Size: 1080x200"
          },
          {
              "type": "text",
              "id": "storylable1",
              "label": "Heading",
              "default": "Banner heading"
          },
          {
              "type": "text",
              "id": "storydesc1",
              "label": "Subheading",
              "default": "Banner subheading"
          },
          {
              "type": "text",
              "id": "button_label_1",
              "default": "Button label",
              "label": "Button label"
          },
          {
              "type": "url",
              "id": "button_link_1",
              "label": "Link URL"
          },
          {
              "type": "header",
              "content": "Banner spacing"
          }, 
          {
              "type": "range",
              "id": "space_top",
              "min": 0,
              "max": 100,
              "step": 4,
              "unit": "px",
              "label": "t:sections.all.padding.padding_top",
              "default": 16
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Left side tab product 3",
        "blocks": [
          {
            "type": "collection"
          }, 
          {
            "type": "collection"
          }, 
          {
            "type": "collection"
          }
        ]
      }
    ]
  }
{% endschema %}